<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css" integrity="sha384-Smlep5jCw/wG7hdkwQ/Z5nLIefveQRIY9nfy6xoR1uRYBtpZgI6339F5dgvm/e9B" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/js/bootstrap.min.js" integrity="sha384-o+RDsa0aLu++PJvFqy8fFScvbHFLtbvScb8AjopnFD+iEQ7wo/CG0xlczd+2O/em" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/style.css">
    <title>Friend Finder</title>
</head>
<body style="background-image: url(images/bg-photo.jpg)">
    <div class="container">
        <div class="row">
            <div class="col">
                <div class="navbar">
                    <p class="text-center">Friend Finder</p>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <form method="POST">
                    <div class="form-group">
                        <input class="form-control form-control-lg" type="text" placeholder="Enter your name here (required)" id='name' required>
                        <input class="form-control form-control-lg" type="text" placeholder="Enter path to your photo here (required)" id='photo' required>
                    </div>
                    <div class="form-group">
                        <label for="exampleFormControlSelect1">
                            How often do you play sports?
                        </label>
                        <select class="form-control" id="dropDown1">
                            <option>1 (very rarely)</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5 (regularly)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="exampleFormControlSelect1">
                            How big cinema fan are you?
                        </label>
                        <select class="form-control" id="dropDown2">
                            <option>1 (don't watch movies)</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5 (cinephile!)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="exampleFormControlSelect1">
                            Are you a book reader?
                        </label>
                        <select class="form-control" id="dropDown3">
                            <option>1 (not really)</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5 (book worm!)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="exampleFormControlSelect1">
                            Do you like to travel?
                        </label>
                        <select class="form-control" id="dropDown4">
                            <option>1 (not really)</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5 (wanderer!)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="exampleFormControlSelect1">
                            Are you extrovert/introvert?
                        </label>
                        <select class="form-control" id="dropDown4">
                            <option>1 (introvert)</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5 (extrovert)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="exampleFormControlSelect1">
                            Do you like clubbing/Partying?
                        </label>
                        <select class="form-control" id="dropDown5">
                            <option>1 (not at all!)</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5 (party animal!)</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary" id='dataSubmit'>Submit</button>
                </form>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <a href="/api/friends">API friends list</a> | <a href="https://github.com/JackSparrow114/FriendFinder">GitHub Repo</a>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        // Question: What does this code do?
        $("#dataSubmit").on("click", function(event) {
            event.preventDefault();
            var choices = [];
            for(let i=0;i< 5;i++){
                choices.push(parseInt($(`#dropDown${i}:selected`).text()));
            }
            console.log(choices);
            var newFriend = {
            name: $("#name").val().trim(),
            photo: $("#photo").val().trim(),
            scores: choices
            };

            // Question: What does this code do??
            $.post("/api/friends", newFriend)
            .then(function(data) {
                console.log(data);
                alert("Adding friend...");
            });
        });
    </script>
</body>
</html>